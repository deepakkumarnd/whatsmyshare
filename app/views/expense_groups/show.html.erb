<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center box" data-controller="inline-edit">
    <%= render "shared/inline_edit", resource: @expense_group, url: group_path(@expense_group), field_name: "description" %>
    <h1 class="page-title" data-inline-edit-target="groupTitle" data-action="dblclick->inline-edit#doubleClick"><span><%= @expense_group.description %></span></h1>
    <div class="flex gap-2 items-center">
      <%= link_to "All", group_index_path, class: "link text-sm" %>
      <%= link_to "Add new expense", new_group_expense_path(@expense_group), class: "link" %>
    </div>
  </div>

  <div class="box flex justify-end items-center gap-1">
    <%= link_to "edit", edit_group_path(@expense_group), class: "link  text-sm" %>
    <%= link_to "settle", "#", class: "link text-sm inline-block" %>
    <%= button_to "delete", group_path(@expense_group), method: :delete, data: { turbo_confirm: "Are you sure want to delete this expense group?" }, class: "link text-sm inline-block" %>
  </div>

  <div class="box">
    <p class="page-subtitle">Debtors</p>
    <ul>
    <% @expense_group.summary[:debt].each do |name, amount| %>
      <li><span><%= name %></span>&nbsp;<span>owe</span>&nbsp;<span class="subtext"><%= number_to_currency(amount, precision: 2, unit: "Rs. ") %></span></li>
    <% end %>
    </ul>
  </div>

  <div class="box">
    <p class="page-subtitle">Payers</p>
    <ul>
    <% @expense_group.summary[:payer].each do |name, amount| %>
      <li><span><%= name %></span>&nbsp;<span>has to get</span>&nbsp;<span class="subtext"><%= number_to_currency(amount, precision: 2, unit: "Rs. ") %></span></li>
    <% end %>
    </ul>
  </div>

  <div class="box">
    <div class="page-subtitle">Expenses</div>
    <%= render "expenses/list", expenses: @expense_group.expenses %>
  </div>
</div>
